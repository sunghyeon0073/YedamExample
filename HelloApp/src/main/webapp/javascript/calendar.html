<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>calendar.html</title>
<style>
  #show{
    display: inline-block;
    width: 400px;
    height: 350px;
    background-color: yellow;
  }
  
  #show span{
    display: inline-block;
    width: 90px;
    height: 30px;
    background-color: aqua;
    text-align: center;
    margin-top: 2px;
    margin-left: 5px;
  }
</style>
</head>
<body>
  <h3>5월 달력</h3>
  <input type="text" id="words">
  <button>검색삭제</button><p class="remain"></p>
  <br>
	<div id="show">
	</div>
  
<!-- 	<script src="calendarFun.js"></script> -->
<!--	<script src="calendarObj.js"></script> -->
	<script>
    // 삭제이벤트.
    // 초기값으로 60이라는 값.
    let initSecs = 60;
    let missionSuccess = false;

    // alert('미션성공'); - alert('미션실패');
    let job = setInterval(function(){
      document.querySelector('p.remain').innerText ="남은시간:" + initSecs;
      missionSuccess = !document.querySelectorAll('#show span').length;
      if(missionSuccess){
        alert('미션성공');
        clearInterval(job);	// 작업종료
        document.querySelector('p.remain').innerText ="end";
      }
      if(initSecs < 0){
    	alert('미션실패');
        clearInterval(job); // 작업종료.
        document.querySelector('p.remain').innerText ="end";
      }
      initSecs--;
    }, 1000);
    
    //  document.querySelector('button').addEventListener('click', function(){
    document.querySelector('#words').addEventListener('change', function(){
      let targetElem = document.querySelectorAll('#show span'); // NodeList 반환.
      if(targetElem.length == 0){ 
        missionSuccess = true;
      }
      targetElem.forEach(span => {
        let search = document.getElementById('words').value;
        // 입력값과 span 태그의 값이 같은가 비교.
        if(span.innerText == search){
          span.remove();
        }
      });
      document.getElementById('words').value = "";
    })

  	let words = 
      `Lorem, ipsum dolor sit amet consectetur, adipisicing elit. Esse, id! Rem laboriosam error harum. Molestiae repellendus accusamus animi a, provident omnis ullam voluptatem corrupti dolorum, repellat nobis minima maxime quidem.`;
      //split(구분자) => 배열. 30개의 단어를 show에 배치.
      let wordAry = words.split(' ');
      console.log(wordAry);

      wordAry.forEach((word, idx) => {
        if (idx < 31){
          let span = document.createElement('span');
          span.innerText = word;
          show.append(span);
        }
      })
	</script>
</body>
</html>